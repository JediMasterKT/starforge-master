# StarForge Metrics Directory

This directory stores metrics and measurements for tracking StarForge performance and improvements.

## Files

### permission-baseline.json

**Purpose:** Track permission prompt reduction across MCP integration phases

**Generated by:** `tests/mcp/test_permission_baseline.sh`

**Format:**
```json
{
  "timestamp": "ISO 8601 timestamp",
  "test_version": "1.0",
  "agents": {
    "senior-engineer": {
      "before_mcp": 6,
      "after_mcp": 2,
      "reduction_percent": 67
    },
    "junior-engineer": {
      "before_mcp": 7,
      "after_mcp": 2,
      "reduction_percent": 71
    },
    "qa-engineer": {
      "before_mcp": 5,
      "after_mcp": 0,
      "reduction_percent": 100
    },
    "orchestrator": {
      "before_mcp": 4,
      "after_mcp": 0,
      "reduction_percent": 100
    }
  },
  "totals": {
    "before_mcp": 22,
    "after_mcp": 4,
    "reduction_percent": 82
  },
  "target": {
    "prompts": 0,
    "achieved": false
  }
}
```

**Usage:**
```bash
# Generate new baseline
./tests/mcp/test_permission_baseline.sh

# View current metrics
cat .claude/metrics/permission-baseline.json | jq .
```

**Target:** 0 permission prompts across all agents

**Current Status:** 4 prompts remaining (82% reduction achieved)

---

## Future Metrics

### agent-performance.json (planned)
- Task completion time by agent
- Success rate
- Error frequency

### build-quality.json (planned)
- Test coverage
- CI/CD pass rate
- Code review metrics

### user-experience.json (planned)
- Time to first value
- Active supervision time
- User satisfaction scores

---

## CI/CD Integration

**Status:** Planned (Issue #190)

**Goal:** Fail builds if permission prompts increase above baseline

**Implementation:**
```yaml
# .github/workflows/test-permissions.yml
- name: Test Permission Baseline
  run: ./tests/mcp/test_permission_baseline.sh

- name: Check Regression
  run: |
    CURRENT=$(jq '.totals.after_mcp' .claude/metrics/permission-baseline.json)
    if [ $CURRENT -gt 4 ]; then
      echo "❌ Permission prompts increased from baseline (4 → $CURRENT)"
      exit 1
    fi
```

---

## Related Documentation
- **Report:** `docs/mcp/PERMISSION-BASELINE-REPORT.md`
- **Test Suite:** `tests/mcp/test_permission_baseline.sh`
- **UX Vision:** `docs/UX-VISION.md` (permission targets)
- **Issue:** #189 - MCP: Measure Permission Baseline

---

*Last Updated: 2025-10-25*
